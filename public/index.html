<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Online Appointment scheduling portal - Powered by Step Sciences"
    />
    <meta property="og:title" content="Online Appointment Scheduling Portal" />
    <meta
      property="og:description"
      content="Online Appointment scheduling portal - Powered by Step Sciences"
    />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logos/apple-touch-icon.png" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    
    <!-- Roboto font for Material UI -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" />
    
    <!-- Material Icons -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
    
    <!-- Google Calendar Appointment Scheduling CSS -->
    <link href="https://calendar.google.com/calendar/scheduling-button-script.css" rel="stylesheet">
    
    <title>Online Appointment Scheduling Portal</title>
    
    <style>
      body {
        margin: 0;
        padding: 0;
        font-family: 'Roboto', sans-serif;
        background-color: #f5f5f5;
      }
      
      /* Ensure the app takes the full height of the viewport */
      html, body, #root {
        height: 100%;
      }
      
      /* Google Calendar button styling - AGGRESSIVE SIZING */
      .calendar-scheduling-button,
      button[data-calendar-scheduling-button],
      [class*="calendar"][class*="button"],
      [class*="scheduling"][class*="button"] {
        font-family: 'Roboto', sans-serif !important;
        font-size: 1.6rem !important;
        font-weight: 700 !important;
        padding: 24px 48px !important;
        border-radius: 16px !important;
        transition: all 0.3s ease !important;
        min-height: 80px !important;
        min-width: 400px !important;
        max-width: 500px !important;
        height: 80px !important;
        width: auto !important;
        box-shadow: 0 8px 25px rgba(0,0,0,0.2) !important;
        text-transform: none !important;
        letter-spacing: 0.8px !important;
        line-height: 1.2 !important;
        display: inline-flex !important;
        align-items: center !important;
        justify-content: center !important;
      }
      
      /* Multiple selectors to catch Google's button */
      div[data-calendar-scheduling] button,
      div[data-calendar-scheduling-button] button,
      .calendar-scheduling-button,
      button[aria-label*="appointment"],
      button[aria-label*="booking"],
      button[aria-label*="schedule"] {
        font-size: 1.6rem !important;
        padding: 24px 48px !important;
        min-height: 80px !important;
        min-width: 400px !important;
        height: 80px !important;
        font-weight: 700 !important;
        border-radius: 16px !important;
        box-shadow: 0 8px 25px rgba(0,0,0,0.2) !important;
      }
      
      .calendar-scheduling-button:hover,
      button[data-calendar-scheduling-button]:hover,
      div[data-calendar-scheduling] button:hover {
        transform: translateY(-4px) !important;
        box-shadow: 0 12px 35px rgba(0,0,0,0.3) !important;
        font-size: 1.6rem !important;
        padding: 24px 48px !important;
        min-height: 80px !important;
        min-width: 400px !important;
      }
      
      .calendar-scheduling-button:active,
      button[data-calendar-scheduling-button]:active,
      div[data-calendar-scheduling] button:active {
        transform: translateY(-2px) !important;
        box-shadow: 0 6px 20px rgba(0,0,0,0.25) !important;
      }
      
      /* Force proper text visibility in colored cards */
      .MuiCard-root .MuiTypography-root {
        color: #000000 !important;
        z-index: 10 !important;
        position: relative !important;
        text-shadow: none !important;
      }
      
      /* Ensure card content has proper contrast */
      .MuiCardContent-root {
        position: relative !important;
        z-index: 5 !important;
      }
      
      /* Override any theme colors that might interfere with text readability */
      .MuiCard-root[style*="background"] .MuiTypography-root,
      .MuiCard-root .MuiTypography-h6,
      .MuiCard-root .MuiTypography-body1 {
        color: #000000 !important;
        font-weight: 500 !important;
      }
      
      /* Improve scan day location cards */
      .scan-day-card {
        position: relative !important;
      }
      
      .scan-day-card .MuiTypography-root {
        color: #000000 !important;
        z-index: 10 !important;
      }
      
      /* Warning box text */
      .warning-box .MuiTypography-root {
        color: #000000 !important;
        font-weight: 500 !important;
      }
      
      /* Loading states */
      .calendar-button-loading {
        min-height: 80px;
        display: flex;
        align-items: center;
        justify-content: center;
        border: 2px dashed #ccc;
        border-radius: 12px;
        background-color: #f9f9f9;
      }
      
      /* Responsive adjustments */
      @media (max-width: 600px) {
        .calendar-scheduling-button {
          font-size: 1.2rem !important;
          padding: 16px 24px !important;
          min-width: 280px !important;
          min-height: 60px !important;
        }
      }
      
      /* Ensure Material-UI icons have proper contrast */
      .MuiSvgIcon-root {
        z-index: 10 !important;
      }
      
      /* Override any conflicting background colors */
      .MuiPaper-root[style*="background-color"] .MuiTypography-root {
        color: #000000 !important;
      }
      
      /* Success and info colored backgrounds need dark text */
      .MuiCard-root[style*="rgb(232, 245, 233)"] .MuiTypography-root,
      .MuiCard-root[style*="rgb(227, 242, 253)"] .MuiTypography-root {
        color: #000000 !important;
        font-weight: 500 !important;
      }
      
      /* Alert boxes */
      .MuiAlert-root .MuiTypography-root {
        color: inherit !important;
      }
      
      /* Button improvements */
      .MuiButton-containedPrimary {
        font-weight: 600 !important;
      }
      
      .MuiButton-containedSuccess {
        font-weight: 600 !important;
      }
    </style>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    
    <!-- Google Calendar Appointment Scheduling JavaScript - Load at end -->
    <script src="https://calendar.google.com/calendar/scheduling-button-script.js" async></script>
    
    <!-- Additional script to ensure proper loading and button styling -->
    <script>
      // Function to force style the Google Calendar button
      function forceStyleCalendarButton() {
        // Find all possible button elements
        const selectors = [
          '.calendar-scheduling-button',
          'button[data-calendar-scheduling-button]',
          'div[data-calendar-scheduling] button',
          'button[aria-label*="appointment"]',
          'button[aria-label*="booking"]',
          'button[aria-label*="schedule"]',
          'button[class*="calendar"]',
          'button[class*="scheduling"]'
        ];
        
        selectors.forEach(selector => {
          const buttons = document.querySelectorAll(selector);
          buttons.forEach(button => {
            if (button && button.textContent && button.textContent.toLowerCase().includes('appointment')) {
              // Force apply large button styles
              button.style.fontSize = '1.6rem';
              button.style.padding = '24px 48px';
              button.style.minHeight = '80px';
              button.style.minWidth = '400px';
              button.style.height = '80px';
              button.style.fontWeight = '700';
              button.style.borderRadius = '16px';
              button.style.boxShadow = '0 8px 25px rgba(0,0,0,0.2)';
              button.style.transition = 'all 0.3s ease';
              button.style.textTransform = 'none';
              button.style.letterSpacing = '0.8px';
              button.style.lineHeight = '1.2';
              console.log('Applied large button styling to:', button);
            }
          });
        });
      }
      
      // Ensure Google Calendar script loads properly
      window.addEventListener('load', function() {
        setTimeout(function() {
          if (window.calendar && window.calendar.schedulingButton) {
            console.log('Google Calendar scheduling script loaded successfully');
            // Apply button styling after a delay
            setTimeout(forceStyleCalendarButton, 1000);
            setTimeout(forceStyleCalendarButton, 3000);
            setTimeout(forceStyleCalendarButton, 5000);
          } else {
            console.warn('Google Calendar scheduling script may not have loaded');
          }
        }, 2000);
      });
      
      // Observer to catch dynamically added buttons
      const observer = new MutationObserver(function(mutations) {
        mutations.forEach(function(mutation) {
          if (mutation.addedNodes.length > 0) {
            setTimeout(forceStyleCalendarButton, 500);
          }
        });
      });
      
      // Start observing
      if (document.body) {
        observer.observe(document.body, { childList: true, subtree: true });
      } else {
        document.addEventListener('DOMContentLoaded', function() {
          observer.observe(document.body, { childList: true, subtree: true });
        });
      }
      
      // Handle any console errors gracefully
      window.addEventListener('error', function(e) {
        if (e.message && e.message.includes('calendar')) {
          console.warn('Calendar script error handled:', e.message);
        }
      });
    </script>
  </body>
</html>